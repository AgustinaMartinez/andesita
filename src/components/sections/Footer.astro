---
import InstagramIcon from "~/assets/InstagramIcon.astro";
import PhoneIcon from "~/assets/PhoneIcon.astro";
import WhatsAppIcon from "~/assets/WhatsAppIcon.astro";

const phoneNumber = "+5492945684793";
const message =
  "Hola! Vengo de la página web, me interesa consultar por más información sobre la cabaña";
---

<footer
  class="w-full h-15 bg-gradient-to-t from-violet-200 to-violet-50/50 p-8"
>
  <div class="flex justify-between items-center text-slate-500">
    <div class="flex flex-col items-center justify-center md:h-20">
      <a id="logo-link" href="#hero">
        <img
          src="/logo3.webp"
          alt="Logo de Cabaña Andesita"
          class="hidden md:block w-[140px] custom-shadow"
        />
      </a>
      <p class="capitalize font-extrabold">
        Las Pampas - Cabaña Andesita - 2025
      </p>
    </div>
    <div class="flex flex-col items-end justify-end md:h-20">
      <div class="flex justify-between items-center gap-6">
        <a href={`tel:${phoneNumber}`} class="icon-hover">
          <PhoneIcon />
        </a>
        <a href="/" class="icon-hover">
          <InstagramIcon />
        </a>
        <a
          href={`https://api.whatsapp.com/send?phone=${phoneNumber}&text=${message}`}
          class="icon-hover"
        >
          <WhatsAppIcon />
        </a>
      </div>
      <span class="hidden md:block text-slate-500">¡Vení a conocer!</span>
    </div>
  </div>
</footer>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const logoLink = document.getElementById("logo-link");
    if (!logoLink || logoLink === null) return;

    logoLink.addEventListener("click", () => {
      const href = logoLink?.getAttribute("href");
      if (!href) return;

      const currentPath = window.location.pathname;

      if (href.startsWith("#")) {
        if (currentPath !== "/") {
          window.location.href = `/${href}`;
        } else {
          const targetId = href.substring(1);
          const targetElement = document.getElementById(targetId);
          if (targetElement) {
            targetElement.scrollIntoView({ behavior: "smooth" });
          }
        }
      } else {
        window.location.href = href;
      }
    });
  });
</script>
